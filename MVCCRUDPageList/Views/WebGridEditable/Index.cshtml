@model List<MVCCRUDPageList.Controllers.UserModel>

@using (Html.BeginForm(null,null,FormMethod.Post))
{
    var grid = new WebGrid(Model);
    var rowNum = 0;
    
    <div id="gridContent" style=" padding:20px; ">
    @grid.GetHtml(
        tableStyle: "table",
        alternatingRowStyle: "alternate",
        selectedRowStyle: "selected",
        headerStyle: "header",
        columns: grid.Columns
        (
            //grid.Column("RowNumber", style: "HideFirstCol", format: item => rowNum = rowNum + 1),
            grid.Column(null, null, format: @<input type="hidden" name="IDHidden" value="rowNum + 1" />),
            grid.Column("First Name",
                        style: "col2",
                        format: @<text>
                        @Html.TextBox("UserModel[" + (rowNum - 1).ToString() + "].FirstName", (object)item.FirstName)
                        </text>),


            grid.Column("Last Name",
                        style: "col2",
                        format: @<text>
                        @Html.TextBox("UserModel[" + (rowNum - 1).ToString() + "].LastName", (object)item.LastName)
                        </text>)
        ))
    </div>
    <input type="submit" name="SaveButton" value="Save" />
}